"use strict";var _functions=require("../functions.js");function submitVagas(){var n,a,r,t,o,s,i,c,u,p,l;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=$("#titulo").val(),a=$("#descricao").val(),r=$("#tipoContrato").val(),t=$("#local").val(),o=$("#salario").val(),s=$("#requisitos").val(),i=$("#beneficios").val(),c=$("#id-user").val(),u={titulo:n,descricao:a,tipoContrato:r,local:t,salario:o,requisitos:s,beneficios:i,id:c},p=JSON.stringify(u),e.next=12,regeneratorRuntime.awrap((0,_functions.token)());case 12:l=e.sent,$.ajax({url:"/api/Vacancies",type:"post",dataType:"json",data:p,headers:{Authorization:"Bearer "+l,"X-CSRF-TOKEN":(0,_functions.pushToken)(),"Content-Type":"application/json",Accept:"application/json"},success:function(e){console.log(e),e.Status},error:function(e,n,a){var r=e.responseJSON.errors;for(var t in r)!function(n){r[n].forEach(function(e){$("#erroRecruiter").append('<p class="alert alert-danger"> '.concat(n,": ").concat(e,"</p>"))})}(t);console.error("Erro ao enviar:",a)}});case 14:case"end":return e.stop()}})}function Vagasid(){var n,a,r,t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=$("#id-user").val(),a={id:n},r=JSON.stringify(a),e.next=5,regeneratorRuntime.awrap((0,_functions.token)());case 5:t=e.sent,$.ajax({url:"/api/Allvagasid",type:"post",dataType:"json",data:r,headers:{Authorization:"Bearer "+t,"X-CSRF-TOKEN":(0,_functions.pushToken)(),"Content-Type":"application/json",Accept:"application/json"},success:function(e){2==e.Status?montarVagas(e.data):montarErro()},error:function(e,n,a){var r=e.responseJSON.errors;for(var t in r)!function(n){r[n].forEach(function(e){$("#erroRecruiter").append('<p class="alert alert-danger"> '.concat(n,": ").concat(e,"</p>"))})}(t);console.error("Erro ao enviar:",a)}});case 7:case"end":return e.stop()}})}function montarVagas(e){var n=document.getElementById("listarVagas");n.innerHTML="";var a=document.createElement("div");a.className="",a.id="forms-pgSelect",a.innerHTML="Descrição",n.appendChild(a)}document.getElementById("form-vaga").addEventListener("submit",function(n){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),submitVagas();case 2:case"end":return e.stop()}})}),$(document).ready(function(){Vagasid()});